(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[37],{1256:function(t,e,c){"use strict";c.r(e);var r=c(114),a=c(2),n=c(23),s=c(24),i=c(39),o=c(130),d=c(441),u=c(166),l=c.n(u),j=c(10),h=c(29),_=c(38),p=c(154),m=c(45),b=c(3);e.default=function(){var t=Object(a.useState)([]),e=Object(r.a)(t,2),c=e[0],u=e[1],O=Object(n.c)(i.b),f=Object(n.c)(s.b),g=Object(n.c)(s.g),x=Object(a.useState)(!1),v=Object(r.a)(x,2),N=v[0],y=v[1],k=Object(a.useState)(!1),w=Object(r.a)(k,2),S=w[0],C=w[1],T=Object(j.f)(),I=Object(n.b)();Object(a.useEffect)((function(){u(O)}),[O]);var D=new Date((new Date).getTime()+6048e5).toString();return Object(b.jsx)("div",{className:"product_cart_page",children:Object(b.jsxs)("div",{className:"product_cart_container",children:[Object(b.jsxs)("div",{className:"product_cart_left",children:[Object(b.jsx)("div",{className:"product_cart_title",children:Object(b.jsxs)("h2",{style:{paddingTop:"0.1rem"},children:["My Cart"," ",Object(b.jsx)("span",{children:c&&c.length>0?"(".concat(c.length,")"):"(0)"})]})}),Object(b.jsx)("div",{className:"cart_hr"}),c&&c.length>0?c.map((function(t){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"product_cart_mid",children:[Object(b.jsxs)("div",{className:"product_cart_mid_left",children:[Object(b.jsx)("div",{className:"product_cart_mid_left_img",children:Object(b.jsx)("img",{src:t.images[0].url,alt:t.title})}),Object(b.jsx)("div",{className:"product_cart_mid_left_counter",children:Object(b.jsx)("input",{type:"number",value:t.count,onChange:function(e){return function(t,e){var c=e.target.value<1?1:e.target.value;if(c>t.quantity)_.b.error("Max available quantity: ".concat(t.quantity));else{var r=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(r=JSON.parse(localStorage.getItem("cart"))),r.map((function(e,a){e._id===t._id&&(r[a].count=c)})),localStorage.setItem("cart",JSON.stringify(r)),I(Object(i.c)({cart:r})))}}(t,e)}})})]}),Object(b.jsxs)("div",{className:"product_cart_mid_mid",children:[Object(b.jsx)("div",{className:"product_cart_mid_mid_title",children:Object(b.jsx)("h3",{children:t.title})}),Object(b.jsx)("div",{className:"product_cart_mid_mid_brand",children:Object(b.jsx)("h4",{style:{color:"gray"},children:t.brand})}),Object(b.jsxs)("div",{className:"product_cart_mid_mid_color",children:[Object(b.jsx)("div",{style:{backgroundColor:t.color},className:"product_cart_mid_mid_color_circle"}),Object(b.jsx)("h4",{style:{color:t.color},children:t.color})]}),Object(b.jsx)("div",{className:"product_cart_mid_mid_price",children:Object(b.jsxs)("h4",{style:{fontWeight:"bold"},children:["\u20b9",l()(t.price).format("0,0")]})}),Object(b.jsx)("div",{className:"product_cart_mid_mid_remove",children:Object(b.jsx)("button",{className:"product_cart_mid_mid_remove_btn",onClick:function(){return function(t){var e=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.map((function(c,r){c._id===t&&e.splice(r,1)})),localStorage.setItem("cart",JSON.stringify(e)),I(Object(i.c)({cart:e})))}(t._id)},children:"REMOVE"})})]}),Object(b.jsxs)("div",{className:"product_cart_mid_right",children:[Object(b.jsx)("div",{className:"product_cart_mid_right_arrive",children:Object(b.jsxs)("h4",{children:["Delivery by ",D.slice(0,10)," "]})}),Object(b.jsx)("div",{className:"product_cart_mid_right_replacement",children:Object(b.jsxs)("h5",{style:{color:"gray"},children:[" ","7 Days Replacement Policy"]})}),Object(b.jsxs)("div",{className:"product_cart_mid_shipping",children:[Object(b.jsx)("h3",{children:"Shipping "}),"Yes"===t.shipping?Object(b.jsx)(o.a,{className:"product_cart_mid_shipping_check"}):Object(b.jsx)(o.c,{className:"product_cart_mid_shipping_uncheck"})]})]})]},t._id),Object(b.jsx)("div",{className:"cart_hr"})," "]})})):Object(b.jsxs)("div",{className:"cart_no_product",children:[Object(b.jsx)("h2",{children:"No Products In Cart"}),Object(b.jsx)(h.b,{to:"/shop",style:{marginTop:"0.4rem",marginLeft:"0.5rem"},children:"Go For Shopping"})]})," "]}),c&&c.length>0?Object(b.jsxs)("div",{className:"product_cart_right",children:[Object(b.jsx)("div",{className:"product_cart_title",children:Object(b.jsx)("h2",{style:{paddingTop:"0.1rem"},children:"ORDER SUMMARY"})}),Object(b.jsx)("div",{className:"cart_hr_right"}),Object(b.jsx)("div",{className:"product_cart_right_mid",children:c&&c.length>0?c.map((function(t){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"product_cart_right_mid_content",children:Object(b.jsxs)("h4",{children:[t.title," (",t.color,") X ",t.count," = \u20b9",l()(t.price*t.count).format("0,0")," "]})},t._id)})})):null}),Object(b.jsx)("div",{className:"cart_hr_right"}),Object(b.jsx)("div",{className:"product_cart_right_bottom",children:Object(b.jsxs)("h3",{style:{marginTop:"0.45rem"},children:["TOTAL : \u20b9",l()(c.reduce((function(t,e){return t+e.price*e.count}),0)).format("0,0")]})}),Object(b.jsx)("div",{className:"cart_hr_right"}),Object(b.jsx)("div",{className:"product_cart_bottom",children:null===f?Object(b.jsx)("button",{className:"product_cart_bottom_order",onClick:function(){T.push({pathname:"/login",state:{from:"/cart"}})},children:"Login For Checkout"}):Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsx)(p.a,{className:S?"product_cart_bottom_cash_loading":"product_cart_bottom_cash",onClick:function(){C(!0),Object(d.b)(O,g).then((function(t){console.log(t),t.data.ok&&T.push("/checkout"),C(!1),I(Object(m.c)({cod:!0}))})).catch((function(t){C(!1),console.log(t)}))},loading:S,children:"Pay Cash On Delivery"}),Object(b.jsx)(p.a,{className:N?"product_cart_bottom_order_loading":"product_cart_bottom_order",onClick:function(){y(!0),Object(d.b)(O,g).then((function(t){console.log(t),t.data.ok&&T.push("/checkout"),y(!1),I(Object(m.c)({cod:!1}))})).catch((function(t){y(!1),console.log(t)}))},loading:N,children:"Proceed To Checkout"})]})})]}):null," "]})})}},441:function(t,e,c){"use strict";c.d(e,"b",(function(){return o})),c.d(e,"a",(function(){return d})),c.d(e,"c",(function(){return u})),c.d(e,"d",(function(){return l})),c.d(e,"e",(function(){return j}));var r=c(21),a=c.n(r),n=c(30),s=c(37),i=c.n(s),o=function(){var t=Object(n.a)(a.a.mark((function t(e,c){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.post("/user/checkout",{cart:e},{headers:{authtoken:c}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}(),d=function(){var t=Object(n.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/user/checkout/get",{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(n.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.delete("/user/checkout/empty",{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(n.a)(a.a.mark((function t(e,c){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.post("/user/address",e,{headers:{authtoken:c}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}(),j=function(){var t=Object(n.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.post("/current-user",{},{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=37.905cb5ee.chunk.js.map