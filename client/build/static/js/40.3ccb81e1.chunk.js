(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[40],{1241:function(e,t,r){"use strict";r.r(t);var a=r(114),s=r(21),n=r.n(s),c=r(30),i=r(2),o=r(260),l=r(40),u=r(38),d=r(37),b=r.n(d),j=r(23),h=r(24),m=r(10),p=r(3),g=function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/create-or-update-user",{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=function(){var e=Object(i.useState)(""),t=Object(a.a)(e,2),r=t[0],s=t[1],d=Object(i.useState)(""),b=Object(a.a)(d,2),O=b[0],f=b[1],x=Object(j.c)(h.b),v=Object(j.b)(),w=Object(m.f)();Object(i.useEffect)((function(){null!==x&&w.push("/")}),[x]),Object(i.useEffect)((function(){s(window.localStorage.getItem("emailForRegister"))}),[]);var k=function(){var e=Object(c.a)(n.a.mark((function e(t){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r&&O){e.next=4;break}return u.b.error("Email and Password is required"),e.abrupt("return");case 4:if(!(O.length<6)){e.next=7;break}return u.b.error("Password must be atleast 6 character long"),e.abrupt("return");case 7:return e.prev=7,e.next=10,l.a.signInWithEmailLink(r,window.location.href);case 10:if(!e.sent.user.emailVerified){e.next=21;break}return window.localStorage.removeItem("emailForRegister"),a=l.a.currentUser,e.next=16,a.updatePassword(O);case 16:return e.next=18,a.getIdTokenResult();case 18:s=e.sent,g(s.token).then((function(e){v(Object(h.i)({name:e.data.name,email:e.data.email,token:s.token,photo:a.photoURL,role:e.data.role,_id:e.data._id}))})).catch((function(e){return console.log(e)})),w.push("/");case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(7),u.b.error(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"register",children:Object(p.jsxs)("div",{className:"register_container2",style:{height:"24rem"},children:[Object(p.jsx)("div",{className:"register_background"}),Object(p.jsx)("div",{className:"register_content2",children:Object(p.jsx)("h1",{children:"Complete Registration "})}),Object(p.jsxs)("div",{className:"register_form",children:[Object(p.jsx)("input",{value:r,disabled:!0}),Object(p.jsx)(o.a.Password,{type:"password",placeholder:"Enter Password",onChange:function(e){return f(e.target.value)},value:O,style:{marginTop:"1rem"},autoFocus:!0}),Object(p.jsx)("div",{className:"register_btn",onClick:k,children:Object(p.jsx)("span",{children:"REGISTER"})})]})]})}),Object(p.jsx)("div",{className:"register_mobile",children:Object(p.jsxs)("div",{className:"register_container2_mobile",style:{height:"24rem"},children:[Object(p.jsx)("div",{className:"register_background_mobile2"}),Object(p.jsx)("div",{className:"register_content2",children:Object(p.jsx)("h1",{children:"Complete Registration "})}),Object(p.jsxs)("div",{className:"register_form",children:[Object(p.jsx)("input",{value:r,disabled:!0}),Object(p.jsx)(o.a.Password,{type:"password",placeholder:"Enter Password",onChange:function(e){return f(e.target.value)},value:O,style:{marginTop:"1rem"},autoFocus:!0}),Object(p.jsx)("div",{className:"register_btn",onClick:k,children:Object(p.jsx)("span",{children:"REGISTER"})})]})]})})]})}}}]);
//# sourceMappingURL=40.3ccb81e1.chunk.js.map