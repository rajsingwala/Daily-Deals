(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[39],{1239:function(e,t,r){"use strict";r.r(t);var n=r(114),s=r(21),a=r.n(s),c=r(30),i=r(2),o=r(260),l=r(40),u=r(38),d=r(23),j=r(24),b=r(10),h=r(29),p=r(37),m=r.n(p),O=r(3),g=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/create-or-update-user",{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=function(){var e=Object(i.useState)(""),t=Object(n.a)(e,2),r=t[0],s=t[1],p=Object(i.useState)(""),m=Object(n.a)(p,2),f=m[0],x=m[1],v=Object(d.c)(j.b),k=Object(d.b)(),N=Object(b.f)();Object(i.useEffect)((function(){null!==v&&N.push("/")}),[v]);var w=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,s,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=N.location.state,r&&f){e.next=5;break}return u.b.error("Email and Password is required"),e.abrupt("return");case 5:return e.prev=5,e.next=8,l.a.signInWithEmailAndPassword(r,f);case 8:return s=e.sent,c=s.user,e.next=12,c.getIdTokenResult();case 12:i=e.sent,g(i.token).then((function(e){k(Object(j.i)({name:c.displayName,email:e.data.email,token:i.token,photo:c.photoURL,role:e.data.role,_id:e.data._id}))})).catch((function(e){return console.log(e)})),n?N.push(n.from):N.push("/"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),u.b.error(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){l.a.signInWithPopup(l.b).then(function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.user,e.next=3,r.getIdTokenResult();case 3:n=e.sent,g(n.token).then((function(e){k(Object(j.i)({name:r.name,email:e.data.email,token:n.token,photo:r.photoURL,role:e.data.role,_id:e.data._id,address:e.data.address}))})).catch((function(e){return console.log(e)})),N.push("/");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return u.b.error(e.message)}))};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"register",children:Object(O.jsxs)("div",{className:"register_container2",style:{height:"30rem"},children:[Object(O.jsx)("div",{className:"register_background"}),Object(O.jsx)("div",{className:"register_content2",children:Object(O.jsx)("h1",{children:"Welcome Back! "})}),Object(O.jsxs)("div",{className:"register_form",children:[Object(O.jsx)("input",{type:"email",placeholder:"Enter Email",onChange:function(e){return s(e.target.value)},value:r,autoFocus:!0}),Object(O.jsx)(o.a.Password,{type:"password",placeholder:"Enter Password",onChange:function(e){return x(e.target.value)},value:f,style:{marginTop:"1rem"}}),Object(O.jsx)("div",{className:"forgot_link",children:Object(O.jsx)(h.b,{to:"/forgot-password",children:"Forgot Password?"})}),Object(O.jsxs)("div",{className:"new_here",children:["New Here?"," ",Object(O.jsx)(h.b,{to:"/register",style:{marginLeft:"0.4rem"},children:"SignUp"})]}),Object(O.jsx)("div",{className:"register_btn",onClick:w,children:Object(O.jsx)("span",{children:"LOGIN"})}),Object(O.jsx)("div",{className:"register_btn2",onClick:_,children:Object(O.jsx)("span",{children:"LOGIN WITH GOOGLE"})})]})]})}),Object(O.jsx)("div",{className:"register_mobile",children:Object(O.jsxs)("div",{className:" register_container2_mobile",style:{height:"30rem"},children:[Object(O.jsx)("div",{className:"register_background_mobile3"}),Object(O.jsx)("div",{className:"register_content2",children:Object(O.jsx)("h1",{children:"Welcome Back! "})}),Object(O.jsxs)("div",{className:"register_form",children:[Object(O.jsx)("input",{type:"email",placeholder:"Enter Email",onChange:function(e){return s(e.target.value)},value:r,autoFocus:!0}),Object(O.jsx)(o.a.Password,{type:"password",placeholder:"Enter Password",onChange:function(e){return x(e.target.value)},value:f,style:{marginTop:"1rem"}}),Object(O.jsx)("div",{className:"forgot_link",children:Object(O.jsx)(h.b,{to:"/forgot-password",children:"Forgot Password?"})}),Object(O.jsxs)("div",{className:"new_here",children:["New Here?"," ",Object(O.jsx)(h.b,{to:"/register",style:{marginLeft:"0.4rem"},children:"SignUp"})]}),Object(O.jsx)("div",{className:"register_btn",onClick:w,children:Object(O.jsx)("span",{children:"LOGIN"})}),Object(O.jsx)("div",{className:"register_btn2",onClick:_,children:Object(O.jsx)("span",{children:"LOGIN WITH GOOGLE"})})]})]})})]})}}}]);
//# sourceMappingURL=39.a50359f6.chunk.js.map